# PR 情報ブリーフテンプレート

create-slide に渡すブリーフの構造化テンプレート。
Phase 1 で収集した PR 情報を以下の形式にまとめ、create-slide の引数として渡す。

## テンプレート

```markdown
# PR #<number> 解説スライド

## PR 概要

- **タイトル**: <PR タイトル>
- **目的**: <PR の目的を 1-2 文で>
- **PR URL**: <URL>
- **ベース**: <base-branch> ← <head-branch>

## 変更統計

- 変更ファイル数: <N> ファイル
- 追加: +<N> 行 / 削除: -<N> 行
- コミット数: <N>

## 変更パッケージ/ディレクトリ

| パッケージ/ディレクトリ | 変更ファイル数 | 主な変更内容 |
|------------------------|--------------|-------------|
| <path> | <N> | <概要> |

## コミット履歴

1. `<hash>` <メッセージ>
2. `<hash>` <メッセージ>
...

## 主要な変更内容

### <変更カテゴリ 1>（例: 新機能追加）

<変更の説明。何を追加/変更/削除したか、なぜその変更が必要か>

**主要ファイル:**
- `<file-path>`: <変更内容の概要>

**コードハイライト:**
```<lang>
<重要な変更箇所のコードスニペット>
```

### <変更カテゴリ 2>（例: リファクタリング）

<同様の構造で記述>

## スライド作成の指示

- **対象者**: PR レビュワー（エンジニア中級-上級）
- **ストーリー型**: 解説型
- **ゴール**: PR の変更内容を理解する
- **ファイル名**: pr-<number>-<sanitized-title>.md
- **想定ページ数**: <10-20> ページ
- **重点**: コード diff の可視化、変更の背景と意図の説明
```

## 使い方

1. Phase 1 で取得した情報をテンプレートの各セクションに埋め込む
2. diff が大きい場合は「主要な変更内容」セクションを重要度順に絞る（最大 5 カテゴリ）
3. コードハイライトは変更の本質が伝わる最小限のスニペットにする
4. 完成したブリーフを create-slide の引数として渡す

## diff 要約戦略（大規模 PR 向け）

diff が 5000 行を超える場合:

1. **変更ファイル一覧と統計** で全体像を示す
2. **上位 10 ファイル**（追加+削除行数順）の diff のみ詳細化する
3. 残りのファイルは「その他 N ファイルの軽微な変更」としてまとめる
4. 想定ページ数を 15-20 に増やし、概要ページを厚めにする
